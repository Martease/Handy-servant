<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book a Service</title>
    <link rel="stylesheet" href="../Css Sub pages/booking.css">
</head>
<body> 
    <header> 
        <div class="header"></div>
        <nav>
            <ul>
                <li><a href="../index.html">Home</a></li>
                <li><a href="services.html">Services</a></li>
                <li><a href="contacts.html">Contact</a></li>
            </ul>
        </nav>
    </header>
    
    <div class="booking-container"> 
       <div id="splitter">
                <form class="form">
                    <h1>Book a Service</h1>
                    <div>
                        <span>Full Name:</span>
                        <input
                        class="name"
                        type="text" 
                        autocomplete="off"
                        placeholder="John Doe"
                        class="fullname" required>
                    </div>

                    <div>
                        <span>Email:</span>
                        <input
                            class="mail"
                            type="mail"
                            autocomplete="off"
                            placeholder="jdoe@mail.com"
                            class="email" required>
                    </div>

                    <div>
                        <span>Select Date:</span>
                        <input type="date" class="date" name="date" required>
                        <label for="date"></label>   
                    </div>

                    <div>
                        <span>Select Time:</span>
                        <input type="time" class="time" name="time" required>
                        <label for="time"></label>                       
                    </div>

                    <div>
                        <span></span>
                        <label for="service">Choose a service:</label>
            <select class="service" name="service" required>
                <option value="tv-mounting">TV Mounting</option>
                <option value="gutter-cleaning">Gutter Cleaning</option>
                <option value="drywall-repair">Drywall Repair</option>
                <option value="ceiling-fan">Ceiling Fan Installation</option>
                <option value="sink-faucet">Sink Faucet Installation</option>
            </select>
                    </div>
                    <button type="submit">Book Now</button>
                </form>

                <div class="integration-buttons">
                    <button class="google-calendar" onclick="addToGoogleCalendar()">Google Calendar</button>
                    <button class="apple-calendar" onclick="addToAppleCalendar()">Apple Calendar</button>
                </div>
            </div>
            </div>

        
            <script>
                document.querySelector('.form').addEventListener('submit', async (event) => {
                    event.preventDefault();
            
                    const formData = {
                        fullname: document.querySelector('.name').value,
                        email: document.querySelector('.mail').value,
                        date: document.querySelector('.date').value,
                        time: document.querySelector('.time').value,
                        service: document.querySelector('.service').value
                    };
            
                    try {
                        const response = await fetch('http://localhost:3000/submit-form', {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json'
                            },
                            body: JSON.stringify(formData)
                        });
            
                        if (response.ok) {
                            alert('Booking submitted successfully!');
                        } else {
                            alert('Failed to submit booking. Please try again.');
                        }
                    } catch (error) {
                        console.error('Error:', error);
                        alert('Error submitting booking.');
                    }
                });
            </script>
</body>
</html> 